<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amazon Buybox Tracker</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ¯ Amazon Buybox Tracker</h1>
      <p class="version">v1.1.0</p>
    </header>

    <!-- Tab Navigation -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="scrape">Scrape</button>
      <button class="tab-btn" data-tab="bulk">Bulk ASINs</button>
      <button class="tab-btn" data-tab="settings">Settings</button>
    </div>

    <!-- Status Message -->
    <div id="status" class="status" style="display: none;"></div>

    <!-- â”€â”€ SCRAPE TAB â”€â”€ -->
    <div id="scrapeTab" class="tab-content active">
      <div class="section">
        <p class="description">Navigate to any Amazon product page, then click Scrape to push data to your dashboard.</p>
        <button id="scrapeBtn" class="btn btn-primary">ğŸ“Š Scrape This Page</button>
        <button id="openDashboardBtn" class="btn btn-secondary" style="margin-top:8px;">ğŸ–¥ï¸ Open Dashboard</button>
      </div>
      <div id="scrapeResult" class="result-container" style="display: none;"></div>
    </div>

    <!-- â”€â”€ BULK ASINs TAB â”€â”€ -->
    <div id="bulkTab" class="tab-content">
      <div class="section">
        <h3>Bulk ASIN / URL Upload</h3>
        <p class="description">Paste one ASIN or Amazon URL per line. The backend will scrape all of them in the background.</p>
        <textarea
          id="bulkInput"
          class="bulk-textarea"
          placeholder="B01ARGZ8N0&#10;B07XY1234Z&#10;https://www.amazon.co.za/dp/B09ABC1234&#10;..."
          rows="8"
        ></textarea>
        <p class="hint" id="bulkCount">0 ASINs detected</p>

        <div class="button-group">
          <button id="bulkSubmitBtn" class="btn btn-primary">ğŸš€ Submit to Dashboard</button>
          <button id="bulkClearBtn" class="btn btn-secondary">ğŸ—‘ï¸ Clear</button>
        </div>

        <div id="bulkResult" class="result-container" style="display:none; margin-top:12px;"></div>
      </div>
    </div>

    <!-- â”€â”€ SETTINGS TAB â”€â”€ -->
    <div id="settingsTab" class="tab-content">
      <div class="section">
        <h3>Backend Configuration</h3>
        <label for="backendUrl">Render.com Backend URL</label>
        <input
          type="text"
          id="backendUrl"
          placeholder="https://your-app.onrender.com"
          class="input-field"
        >
        <p class="hint">No trailing slash needed. e.g. https://buybox-api.onrender.com</p>

        <label for="mySellerName">Your Seller Name</label>
        <input
          type="text"
          id="mySellerName"
          placeholder="e.g. Bonolo Online"
          class="input-field"
        >
        <p class="hint">Used to detect when you win the buybox (ğŸŸ¢ Winning)</p>

        <div class="button-group">
          <button id="saveSettingsBtn" class="btn btn-primary">ğŸ’¾ Save Settings</button>
          <button id="testConnectionBtn" class="btn btn-secondary">ğŸ”Œ Test Connection</button>
        </div>
      </div>
    </div>

    <footer>
      <p>Made with â¤ï¸ for Amazon sellers</p>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
